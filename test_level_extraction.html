<!DOCTYPE html>
<html>
<head>
    <title>Test Level Extraction</title>
</head>
<body>
    <h1>Level Extraction Test</h1>
    <div id="results"></div>

    <script>
        // Extract level from course code (e.g., "DCIT203" -> 200, "DCIT322 (MK)" -> 300)
        function extractLevelFromCourse(courseCode) {
            if (!courseCode) return null;
            
            // Match patterns like DCIT103, DCIT203, DCIT322 (MK), ABCD400, etc.
            // Look for letters followed by 3 digits, with optional text in brackets
            const match = courseCode.match(/[A-Z]+(\d{3})/);
            if (match) {
                const levelDigit = parseInt(match[1].charAt(0));
                // e.g., 203 -> level 2 -> 200, 322 -> level 3 -> 300, 415 -> level 4 -> 400
                return levelDigit * 100;
            }
            return null;
        }

        // Test cases
        const testCases = [
            { code: 'DCIT103', expected: 100 },
            { code: 'DCIT208', expected: 200 },
            { code: 'DCIT322', expected: 300 },
            { code: 'DCIT416', expected: 400 },
            { code: 'DCIT402', expected: 400 },
            { code: 'DCIT322 (MK)', expected: 300 },
            { code: 'DCIT416 (JAp)', expected: 400 },
            { code: 'DCIT308 (KS)', expected: 300 },
            { code: 'DCIT208 (MAM)', expected: 200 },
            { code: 'ABCD100', expected: 100 },
            { code: 'ABCD200', expected: 200 },
            { code: 'MATH322', expected: 300 },
            { code: 'MATH322 (PH)', expected: 300 },
            { code: 'MissingNumber', expected: null },
            { code: '', expected: null },
            { code: null, expected: null }
        ];

        let resultsHtml = '<table border="1" cellpadding="10"><tr><th>Course Code</th><th>Expected</th><th>Result</th><th>Status</th></tr>';
        let passed = 0;
        let failed = 0;

        testCases.forEach(test => {
            const result = extractLevelFromCourse(test.code);
            const status = result === test.expected ? '✓ PASS' : '✗ FAIL';
            if (result === test.expected) {
                passed++;
            } else {
                failed++;
            }
            resultsHtml += `<tr><td>${test.code}</td><td>${test.expected}</td><td>${result}</td><td>${status}</td></tr>`;
        });

        resultsHtml += '</table>';
        resultsHtml += `<p><strong>Results: ${passed} passed, ${failed} failed</strong></p>`;

        document.getElementById('results').innerHTML = resultsHtml;
    </script>
</body>
</html>
